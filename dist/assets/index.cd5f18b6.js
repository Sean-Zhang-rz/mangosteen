import{d as D,U as r,r as y,z as p,e as t,Z as b,f,_ as h}from"./index.1c216f5b.js";import{M as O}from"./index.f81e649c.js";import{T as _,a as u}from"./index.ba9a3160.js";import{F as T,a as d}from"./index.707fa357.js";const w="_overlay_aipe2_1",M="_overlay_inner_aipe2_8",F="_actions_aipe2_17",m={overlay:w,overlay_inner:M,actions:F};D({props:{startDate:{type:String,default:new r().firstDayOfMonth().format(),required:!0},endDate:{type:String,default:new r().lastDayOfMonth().format(),required:!0},custom:{type:Boolean,default:!1}}});const Y=D({props:{component:{type:Object,required:!0},showYear:{type:Boolean,default:!0},icon:{type:String,default:"menu"}},setup:e=>{const c=y("\u672C\u6708"),s=y(!1),a=new r,i=p({}),l=p({start:new r().firstDayOfMonth().format(),end:new r().lastDayOfMonth().format()}),n=[{start:a.firstDayOfMonth(),end:a.lastDayOfMonth()},{start:a.add(-1,"month").firstDayOfMonth(),end:a.add(-1,"month").lastDayOfMonth()},{start:a.firstDayOfYear(),end:a.lastDayOfYear()}],v=o=>{if(o.preventDefault(),+new Date(l.end)-+new Date(l.start)<0){h("\u7ED3\u675F\u65F6\u95F4\u4E0D\u53EF\u5927\u4E8E\u7ED3\u675F\u65F6\u95F4");return}s.value=!1,Object.assign(i,l)};return()=>t(O,{title:"\u5C71\u7AF9\u8BB0\u8D26",icon:e.icon},{default:()=>[t(_,{classPrefix:"customTabs",selected:c.value,"onUpdate:selected":[o=>c.value=o,o=>{o==="\u81EA\u5B9A\u4E49\u65F6\u95F4"&&(s.value=!0)}]},{default:()=>[t(u,{id:"\u672C\u6708",name:"\u672C\u6708"},{default:()=>[t(e.component,{startDate:n[0].start.format(),endDate:n[0].end.format()},null)]}),t(u,{id:"\u4E0A\u6708",name:"\u4E0A\u6708"},{default:()=>[t(e.component,{startDate:n[1].start.format(),endDate:n[1].end.format()},null)]}),e.showYear?t(u,{id:"\u4ECA\u5E74",name:"\u4ECA\u5E74"},{default:()=>[t(e.component,{startDate:n[2].start.format(),endDate:n[2].end.format()},null)]}):null,t(u,{id:"\u81EA\u5B9A\u4E49\u65F6\u95F4",name:"\u81EA\u5B9A\u4E49\u65F6\u95F4"},{default:()=>[t(e.component,{startDate:i.start,endDate:i.end,custom:!0},null)]})]}),t(b,{show:s.value,class:m.overlay},{default:()=>[t("div",{class:m.overlay_inner},[t("header",null,[f("\u8BF7\u9009\u62E9\u65F6\u95F4")]),t("main",null,[t(T,{formData:l},{default:()=>[t(d,{label:"\u5F00\u59CB\u65F6\u95F4",prop:"start",type:"date"},null),t(d,{label:"\u7ED3\u675F\u65F6\u95F4",prop:"end",type:"date"},null),t(d,null,{default:()=>[t("div",{class:m.actions},[t("button",{type:"button",onClick:()=>s.value=!1},[f("\u53D6\u6D88")]),t("button",{type:"submit",onClick:v},[f("\u786E\u8BA4")])])]})]})])])]})]})}});export{Y as T};
